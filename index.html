<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GRE —Ç—É–Ω–Ω–µ–ª—è –Ω–∞ MikroTik</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f4f7fb;
            color: #1e293b;
            line-height: 1.6;
            padding: 30px 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 20px 40px -10px rgba(0,20,30,0.2);
            overflow: hidden;
            padding: 40px 45px;
        }

        h1 {
            font-size: 2.4rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #0f3b5e;
            border-bottom: 4px solid #2b6f9e;
            padding-bottom: 15px;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 500;
            margin: 40px 0 20px 0;
            color: #1e4a6d;
            padding-left: 12px;
            border-left: 8px solid #2b6f9e;
        }

        h3 {
            font-size: 1.4rem;
            font-weight: 500;
            margin: 30px 0 15px 0;
            color: #2c3e50;
        }

        h4 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 20px 0 10px 0;
            color: #2b6f9e;
        }

        .step-card {
            background: #f9fcff;
            border-radius: 20px;
            padding: 25px 30px;
            margin: 30px 0;
            box-shadow: inset 0 2px 8px rgba(0,40,70,0.05), 0 6px 12px rgba(0,20,30,0.1);
        }

        .command-block {
            background: #0d1f2e;
            border-radius: 14px;
            margin: 18px 0;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            overflow-x: auto;
        }

        .command-block pre {
            margin: 0;
            padding: 16px 20px;
            color: #e3f2fd;
            font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
            tab-size: 4;
        }

        .command-block code {
            font-family: inherit;
            color: inherit;
            background: transparent;
        }

        .note {
            background: #e6f2fa;
            border-left: 6px solid #2b6f9e;
            padding: 18px 25px;
            border-radius: 16px;
            margin: 25px 0;
            font-size: 1.05rem;
            box-shadow: 0 4px 10px rgba(0,50,80,0.1);
        }

        .note strong {
            color: #0f3b5e;
        }

        .ping-check {
            background: #eaf7ea;
            border-left: 6px solid #2e8b57;
            padding: 18px 25px;
            border-radius: 16px;
            margin: 25px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.05rem;
            box-shadow: 0 4px 10px rgba(0,80,0,0.08);
        }

        .ping-check::before {
            content: "üì° ";
            font-weight: normal;
            font-size: 1.3rem;
            margin-right: 6px;
        }

        .device-label {
            display: inline-block;
            background: #1e4a6d;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            padding: 6px 18px;
            border-radius: 40px;
            margin: 10px 0 5px 0;
            letter-spacing: 0.5px;
        }

        hr {
            border: none;
            border-top: 2px dashed #aac7df;
            margin: 40px 0 20px 0;
        }

        .footer-note {
            margin-top: 45px;
            background: #f0f4fa;
            border-radius: 30px;
            padding: 20px 30px;
            text-align: center;
            color: #2c5779;
            font-size: 1rem;
        }

        @media (max-width: 600px) {
            .container { padding: 25px 18px; }
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
            .command-block pre { font-size: 0.85rem; }
        }
    </style>
</head>
<body>
<div class="container">
    <h1>üîß GRE TUNNEL ¬∑ –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</h1>
    <p style="font-size:1.2rem; margin-bottom:30px; color:#2c3e50;">–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è MikroTik (rtr-a –∏ rtr-cod)</p>

    <!-- –®–ê–ì 1 ‚Äì —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <h2>üóëÔ∏è –®–ê–ì 1 ‚Äî –£–î–ê–õ–ò–¢–ï –°–¢–ê–†–´–ï –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (–µ—Å–ª–∏ –µ—Å—Ç—å)</h2>

    <h4><span class="device-label">rtr-a</span></h4>
    <div class="command-block">
        <pre><code>/interface gre remove gre-tunnel
/ip address remove [find interface=gre-tunnel]</code></pre>
    </div>

    <h4><span class="device-label">rtr-cod</span></h4>
    <div class="command-block">
        <pre><code>/interface gre remove gre-tunnel
/ip address remove [find interface=gre-tunnel]</code></pre>
    </div>

    <hr>

    <!-- –®–ê–ì 2 ‚Äì —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª—è –∑–∞–Ω–æ–≤–æ -->
    <h2>üõ†Ô∏è –®–ê–ì 2 ‚Äî –°–û–ó–î–ê–ô–¢–ï GRE –¢–£–ù–ù–ï–õ–¨ –ó–ê–ù–û–í–û</h2>

    <h4><span class="device-label">rtr-a (IP: 192.168.137.18)</span></h4>
    <div class="command-block">
        <pre><code>/interface gre add name=gre-tunnel local-address=192.168.137.18 remote-address=192.168.137.143 mtu=1476 keepalive=10s,10 comment="GRE to rtr-cod"
/ip address add address=10.10.10.1/30 interface=gre-tunnel</code></pre>
    </div>

    <h4><span class="device-label">rtr-cod (IP: 192.168.137.143)</span></h4>
    <div class="command-block">
        <pre><code>/interface gre add name=gre-tunnel local-address=192.168.137.143 remote-address=192.168.137.18 mtu=1476 keepalive=10s,10 comment="GRE to rtr-a"
/ip address add address=10.10.10.2/30 interface=gre-tunnel</code></pre>
    </div>

    <hr>

    <!-- –®–ê–ì 3 ‚Äì —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å -->
    <h2>üì° –®–ê–ì 3 ‚Äî –ü–†–û–í–ï–†–¨–¢–ï –§–ò–ó–ò–ß–ï–°–ö–£–Æ –°–í–Ø–ó–ù–û–°–¢–¨</h2>

    <div class="ping-check">
        <strong>–° rtr-a:</strong><br>
        <code>/ping 192.168.137.143 count=4</code>
    </div>

    <div class="ping-check">
        <strong>–° rtr-cod:</strong><br>
        <code>/ping 192.168.137.18 count=4</code>
    </div>

    <hr>

    <!-- –®–ê–ì 4 ‚Äì –ø—Ä–æ–≤–µ—Ä–∫–∞ GRE —Ç—É–Ω–Ω–µ–ª—è -->
    <h2>üß™ –®–ê–ì 4 ‚Äî –ü–†–û–í–ï–†–¨–¢–ï GRE –¢–£–ù–ù–ï–õ–¨</h2>
    <div class="ping-check" style="background: #e3f0ff; border-left-color: #1e5b9e;">
        <strong>–° rtr-a (–ø–∏–Ω–≥ –¥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∞–¥—Ä–µ—Å–∞ —Ç—É–Ω–Ω–µ–ª—è):</strong><br>
        <code>/ping 10.10.10.2 count=4</code>
    </div>

    <hr>

    <!-- –®–ê–ì 5 ‚Äì –µ—Å–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
    <h2>üî• –®–ê–ì 5 ‚Äî –ï–°–õ–ò –§–ò–ó–ò–ß–ï–°–ö–ò–ô –ü–ò–ù–ì –ù–ï –†–ê–ë–û–¢–ê–ï–¢</h2>
    <div class="note">
        <strong>üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞ –û–ë–û–ò–• —Ä–æ—É—Ç–µ—Ä–∞—Ö:</strong><br><br>
        <code>/ip firewall filter print</code><br><br>
        –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å <code>action=drop</code> –∏–ª–∏ <code>reject</code> –¥–ª—è —Ü–µ–ø–æ—á–µ–∫ <code>input</code> ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–¥ –Ω–∏–º–∏:
    </div>

    <div class="command-block">
        <pre><code>/ip firewall filter add chain=input protocol=icmp action=accept place-before=1
/ip firewall filter add chain=input protocol=gre action=accept place-before=1</code></pre>
    </div>

    <hr>

    <!-- –®–ê–ì 6 ‚Äì –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ GRE -->
    <h2>‚úÖ –®–ê–ì 6 ‚Äî –ü–†–û–í–ï–†–¨–¢–ï –°–¢–ê–¢–£–° GRE</h2>
    <div class="note" style="background:#eef5e6; border-left-color: #2d6a4f;">
        <strong>–ù–∞ –æ–±–æ–∏—Ö —Ä–æ—É—Ç–µ—Ä–∞—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:</strong><br><br>
        <code>/interface gre print where name=gre-tunnel</code><br><br>
        –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–ª–∞–≥ <strong>R (running)</strong>.
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫ —Å –∏—Ç–æ–≥–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π -->
    <div class="footer-note">
        ‚úÖ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —Ç—É–Ω–Ω–µ–ª—å GRE –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å.<br>
        –ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–æ–±–ª–µ–º—ã ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ IP-–∞–¥—Ä–µ—Å–∞, —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –ø—Ä–∞–≤–∏–ª–∞ –º–µ–∂—Å–µ—Ç–µ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.
    </div>

    <!-- –ù–µ–±–æ–ª—å—à–æ–π reminder –ø—Ä–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å -->
    <p style="text-align:right; color:#607d8b; margin-top:30px; font-size:0.9rem;">
        –ö–æ–º–∞–Ω–¥—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –¥–ª—è RouterOS<br> 
        ‚Ä¢ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
    </p>
</div>
</body>
</html>
